using System;
using System.Diagnostics;

class Program
{
    static void Main()
    {
        Console.Write("Enter a command to run: ");
        string userCommand = Console.ReadLine();

        if (string.IsNullOrWhiteSpace(userCommand))
        {
            Console.WriteLine("No command entered. Exiting...");
            return;
        }

        Process process = new Process();
        process.StartInfo.FileName = "cmd.exe";                // Windows shell
        process.StartInfo.Arguments = "/c " + userCommand;     // /c = run and exit
        process.StartInfo.RedirectStandardOutput = true;
        process.StartInfo.RedirectStandardError = true;
        process.StartInfo.UseShellExecute = false;
        process.StartInfo.CreateNoWindow = true;

        process.OutputDataReceived += (sender, e) => { if (e.Data != null) Console.WriteLine(e.Data); };
        process.ErrorDataReceived  += (sender, e) => { if (e.Data != null) Console.WriteLine("ERR: " + e.Data); };

        process.Start();
        process.BeginOutputReadLine();
        process.BeginErrorReadLine();
        process.WaitForExit();
    }
}